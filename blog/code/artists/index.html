<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Download Music Artist Images | Mark Honeychurch</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="apple-touch-icon" sizes="180x180" href="/media/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/media/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/media/images/icons/favicon-16x16.png">
    <link rel="manifest" href="/media/images/icons/site.webmanifest">
    <link rel="shortcut icon" href="/media/images/icons/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://mark.honeychurch.org/rss.xml" title="Mark Honeychurch RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://mark.honeychurch.org/feed.atom" title="Mark Honeychurch Atom Feed">
    <link rel="alternate" type="application/json" href="https://mark.honeychurch.org/feed.json" title="Mark Honeychurch JSON Feed">
    <meta name="description" content="Coder, Skeptic, Humanist">
    <meta property="article:published_time" content="2008-07-08T00:00:00.000Z">
    <meta property="og:site_name" content="Mark Honeychurch">
    <meta property="og:title" content="Download Music Artist Images">
    <meta property="og:description" content="I was cleaning up my music collection yesterday by using Discogs, a great online Discography catalogue website, to download missing album cover art. I normally use the long-windedly named Album Cover Art Downloader to download cover art, as it's pretty good and can grab images from various sources (amazon.com, yahoo, buy.com) - but there are some albums, especially bootlegs and the like, that aren't on Amazon. While using Discogs I saw that they have artist images (such as the one on the right), and started to download these to use like Album Art images, by naming the file folder.jpg and placing it in the artist's folder (My music collection is organised by First Letter\Artist\Album, e.g. A\Aphex Twin\Hangable Autobulb).">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/blog/code/artists/">
    <meta property="og:image" content="/media/images/blog/code/artists.jpg">
    <meta name="twitter:title" content="Download Music Artist Images">
    <meta name="twitter:description" content="I was cleaning up my music collection yesterday by using Discogs, a great online Discography catalogue website, to download missing album cover art. I normally use the long-windedly named Album Cover Art Downloader to download cover art, as it's pretty good and can grab images from various sources (amazon.com, yahoo, buy.com) - but there are some albums, especially bootlegs and the like, that aren't on Amazon. While using Discogs I saw that they have artist images (such as the one on the right), and started to download these to use like Album Art images, by naming the file folder.jpg and placing it in the artist's folder (My music collection is organised by First Letter\Artist\Album, e.g. A\Aphex Twin\Hangable Autobulb).">
    <meta name="twitter:url" content="/blog/code/artists/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/media/images/blog/code/artists.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:creator" content="@markhoney">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="AlbumCoverArtDownloader, Discogs">
    <meta property="article:tag" content="AlbumCoverArtDownloader">
    <meta name="msapplication-TileColor" content="#b91d47">
    <meta name="msapplication-config" content="/media/images/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/assets/css/0.styles.css" as="style"><link rel="preload" href="/assets/js/styles.js" as="script"><link rel="preload" href="/assets/js/app.js" as="script"><link rel="preload" href="/assets/js/18.js" as="script"><link rel="preload" href="/assets/js/1.js" as="script"><link rel="preload" href="/assets/js/117.js" as="script"><link rel="preload" href="/assets/js/64.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mark Honeychurch</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/life/" class="nav-link">
  Life
</a></li><li class="dropdown-item"><!----> <a href="/blog/random/" class="nav-link">
  Random
</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">
  Code
</a></li><li class="dropdown-item"><!----> <a href="/blog/howto/" class="nav-link">
  How To
</a></li><li class="dropdown-item"><!----> <a href="/blog/projects/" class="nav-link">
  Projects
</a></li><li class="dropdown-item"><h4>
          Skeptical Thoughts
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skepticism/2015/" class="nav-link">
  2015
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2016/" class="nav-link">
  2016
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2017/" class="nav-link">
  2017
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2018/" class="nav-link">
  2018
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/media/" class="nav-link">
  Media
</a></div><div class="nav-item"><a href="/cv/" class="nav-link">
  CV
</a></div><div class="nav-item"><a href="/contact/" class="nav-link">
  Contact
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/life/" class="nav-link">
  Life
</a></li><li class="dropdown-item"><!----> <a href="/blog/random/" class="nav-link">
  Random
</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">
  Code
</a></li><li class="dropdown-item"><!----> <a href="/blog/howto/" class="nav-link">
  How To
</a></li><li class="dropdown-item"><!----> <a href="/blog/projects/" class="nav-link">
  Projects
</a></li><li class="dropdown-item"><h4>
          Skeptical Thoughts
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skepticism/2015/" class="nav-link">
  2015
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2016/" class="nav-link">
  2016
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2017/" class="nav-link">
  2017
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2018/" class="nav-link">
  2018
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/media/" class="nav-link">
  Media
</a></div><div class="nav-item"><a href="/cv/" class="nav-link">
  CV
</a></div><div class="nav-item"><a href="/contact/" class="nav-link">
  Contact
</a></div> <!----></nav>  <!----> </aside> <main class="page"><div data-v-f9805810><!----> <h2 data-v-f9805810>Download Music Artist Images</h2> <h4 data-v-f9805810>July 8, 2008</h4> <p data-v-f9805810><!----> <em>Categories:</em> <span><a href="/blog/category/?name=Software">Software<!----></a></span> , <em>Tags:</em> <span><a href="/blog/tag/?name=AlbumCoverArtDownloader">AlbumCoverArtDownloader<span>, </span></a><a href="/blog/tag/?name=Discogs">Discogs<!----></a></span></p></div> <div class="theme-default-content content__default"><p>I was cleaning up my music collection yesterday by using <a href="http://www.discogs.com/" target="_blank" rel="noopener noreferrer">Discogs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, a great online Discography catalogue website, to download missing album cover art. I normally use the long-windedly named <a href="http://www.unrealvoodoo.org/hiteck/projects/albumart/" target="_blank" rel="noopener noreferrer">Album Cover Art Downloader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to download cover art, as it's pretty good and can grab images from various sources (amazon.com, yahoo, buy.com) - but there are some albums, especially bootlegs and the like, that aren't on Amazon. While using Discogs I saw that they have artist images (such as the one on the right), and started to download these to use like Album Art images, by naming the file folder.jpg and placing it in the artist's folder (My music collection is organised by First Letter\Artist\Album, e.g. A\Aphex Twin\Hangable Autobulb).</p> <p>Of course, I quickly realised that this would take a while to complete, so I searched for any software which took advantage of the Discogs catalogue. Although Wikipedia's page on <a href="http://en.wikipedia.org/wiki/Discogs" target="_blank" rel="noopener noreferrer">Discogs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> had a list of <a href="http://en.wikipedia.org/wiki/Discogs#Software" target="_blank" rel="noopener noreferrer">software<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> which uses the Discogs catalog
, there wasn't any cover art downloading software listed. After a search on google, I found a slightly shorter named piece of software called <a href="http://sourceforge.net/projects/album-art" target="_blank" rel="noopener noreferrer">Album Art Downloader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on Sourceforge. This new piece of software does a similar job to Album Cover Art Downloader, but has a lot more plugins to search different sites for album art - including Discogs.</p> <p>So, after adding a list item for Album Art Downloader to the Wikipedia page, I downloaded installed the software. The Discogs plugin is capable of downloading album art images, which is great, but doesn't download artist images. As Album Art Downloader uses a plugin architecture, I figured it wouldn't be too hard to hack the existing Discogs script to use it for artist images. The existing plugin is at C:\Program Files\AlbumArtDownloader\Scripts\discogs.boo, and it consists of the following code:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">namespace</span> CoverSources
import System
import System<span class="token punctuation">.</span>Text
import System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>RegularExpressions
import util

<span class="token keyword">class</span> <span class="token class-name">Discogs</span><span class="token punctuation">:</span>
 <span class="token keyword">static</span> SourceName <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span><span class="token punctuation">:</span>
  <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">&quot;Discogs&quot;</span>
 <span class="token keyword">static</span> SourceCreator <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span><span class="token punctuation">:</span>
  <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">&quot;Alex Vallat&quot;</span>
 <span class="token keyword">static</span> SourceVersion <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span><span class="token punctuation">:</span>
  <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">&quot;0.4&quot;</span>
 <span class="token keyword">static</span> <span class="token return-type class-name">def</span> <span class="token function">GetThumbs</span><span class="token punctuation">(</span>coverart<span class="token punctuation">,</span>artist<span class="token punctuation">,</span>album<span class="token punctuation">)</span><span class="token punctuation">:</span>
  query <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token operator">=</span> artist <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token return-type class-name">album</span>
  query<span class="token punctuation">.</span><span class="token function">Replace</span><span class="token punctuation">(</span><span class="token string character">' '</span><span class="token punctuation">,</span><span class="token string character">'+'</span><span class="token punctuation">)</span>
  obidResults <span class="token operator">=</span> <span class="token function">GetPage</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.discogs.com/search?type=all&amp;amp;q={0}&quot;</span><span class="token punctuation">,</span> <span class="token function">EncodeUrl</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">//Get obids</span>
  obidRegex <span class="token operator">=</span> <span class="token function">Regex</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;a href=&quot;</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>blogger<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token string">&quot; obid=&quot;</span>&quot; release<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>\\d<span class="token operator">+</span><span class="token punctuation">)</span>\&quot;<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token punctuation">:</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span><span class="token punctuation">?</span>em<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token operator">&lt;</span>name<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>&quot;<span class="token punctuation">,</span> RegexOptions<span class="token punctuation">.</span>Multiline<span class="token punctuation">)</span>
  obidMatches <span class="token operator">=</span> obidRegex<span class="token punctuation">.</span><span class="token function">Matches</span><span class="token punctuation">(</span>obidResults<span class="token punctuation">)</span>
  coverart<span class="token punctuation">.</span>EstimatedCount <span class="token operator">=</span> obidMatches<span class="token punctuation">.</span>Count <span class="token comment">//Probably more than this, as some releases might have multiple images</span>

  <span class="token keyword">for</span> obidMatch <span class="token keyword">as</span> <span class="token class-name">Match</span> <span class="token keyword">in</span> obidMatches<span class="token punctuation">:</span>
   <span class="token comment">//Construct the release name by joining up all the captures of the &quot;name&quot; group</span>
   releaseNameBuilder <span class="token operator">=</span> <span class="token function">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">for</span> namePart <span class="token keyword">in</span> obidMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Captures<span class="token punctuation">:</span>
    releaseNameBuilder<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>namePart<span class="token punctuation">)</span>

   releaseName <span class="token operator">=</span> releaseNameBuilder<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

   <span class="token comment">//Get the image results</span>
   imageResults <span class="token operator">=</span> <span class="token function">GetPage</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.discogs.com/viewimages?what=R&amp;amp;obid={0}&amp;amp;showpending=1&quot;</span><span class="token punctuation">,</span> obidMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;obid&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">)</span>

   imageRegex <span class="token operator">=</span> <span class="token function">Regex</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;img src=&quot;</span>\&quot; url<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www\\<span class="token punctuation">.</span>discogs\\<span class="token punctuation">.</span>com<span class="token operator">/</span>image<span class="token operator">/</span>R<span class="token operator">-</span>\\d<span class="token operator">+</span><span class="token operator">-</span>\\d<span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token punctuation">:</span>jpe<span class="token punctuation">?</span>g<span class="token operator">|</span>gif<span class="token operator">|</span>png<span class="token punctuation">)</span><span class="token punctuation">)</span>\&quot; width<span class="token operator">=</span>\&quot;<span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token operator">&lt;</span>width<span class="token operator">&gt;</span>\\d<span class="token operator">+</span><span class="token punctuation">)</span>\&quot; height<span class="token operator">=</span>\&quot;<span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token operator">&lt;</span>height<span class="token operator">&gt;</span>\\d<span class="token operator">+</span><span class="token punctuation">)</span>\&quot;&quot;<span class="token punctuation">)</span>
   imageMatches <span class="token operator">=</span> imageRegex<span class="token punctuation">.</span><span class="token function">Matches</span><span class="token punctuation">(</span>imageResults<span class="token punctuation">)</span>

   coverart<span class="token punctuation">.</span>EstimatedCount <span class="token operator">+=</span> imageMatches<span class="token punctuation">.</span>Count <span class="token operator">-</span> <span class="token number">1</span> <span class="token comment">//Adjust count by how many images for this release</span>

   <span class="token keyword">for</span> imageMatch <span class="token keyword">as</span> <span class="token class-name">Match</span> <span class="token keyword">in</span> imageMatches<span class="token punctuation">:</span>
    coverart<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>imageMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">,</span> releaseName<span class="token punctuation">,</span> Int32<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>imageMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">,</span> Int32<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>imageMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

 <span class="token keyword">static</span> <span class="token return-type class-name">def</span> <span class="token function">GetResult</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> param
</code></pre></div><p>Well, I figured it wouldn't be too hard to make a copy of this and edit it to download artist images. The main changes need to be to change the Class name (to DiscogsArtist), change the plugin details, make the first search look for artists only (change <em>query as string = artist + &quot; &quot; + album</em> to <em>query as string = album</em>), remove the extra code between the artist/album search and the image search and change the RegEx search for images within the page to search for files beginning with <em>A-</em> (Artist) instead of <em>R-</em> (Release).</p> <p>What we come up with is the following script:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">namespace</span> CoverSources
import System
import System<span class="token punctuation">.</span>Text
import System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>RegularExpressions
import util

<span class="token keyword">class</span> <span class="token class-name">DiscogsArtist</span><span class="token punctuation">:</span>
 <span class="token keyword">static</span> SourceName <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span><span class="token punctuation">:</span>
  <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">&quot;Discogs Artist&quot;</span>
 <span class="token keyword">static</span> SourceCreator <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span><span class="token punctuation">:</span>
  <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">return</span> Mark Honeychurch
 <span class="token keyword">static</span> SourceVersion <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span><span class="token punctuation">:</span>
  <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">&quot;0.1&quot;</span>
 <span class="token keyword">static</span> <span class="token return-type class-name">def</span> <span class="token function">GetThumbs</span><span class="token punctuation">(</span>coverart<span class="token punctuation">,</span>artist<span class="token punctuation">,</span>album<span class="token punctuation">)</span><span class="token punctuation">:</span>
  query <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token operator">=</span> <span class="token return-type class-name">album</span>
  query<span class="token punctuation">.</span><span class="token function">Replace</span><span class="token punctuation">(</span><span class="token string character">' '</span><span class="token punctuation">,</span><span class="token string character">'+'</span><span class="token punctuation">)</span>

  <span class="token comment">//Get the image results</span>
  imageResults <span class="token operator">=</span> <span class="token function">GetPage</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.discogs.com/viewimages?artist={0}&quot;</span><span class="token punctuation">,</span> <span class="token function">EncodeUrl</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  imageRegex <span class="token operator">=</span> <span class="token function">Regex</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;img src=&quot;</span>\&quot; url<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www\\<span class="token punctuation">.</span>discogs\\<span class="token punctuation">.</span>com<span class="token operator">/</span>image<span class="token operator">/</span>A<span class="token operator">-</span>\\d<span class="token operator">+</span><span class="token operator">-</span>\\d<span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token punctuation">:</span>jpe<span class="token punctuation">?</span>g<span class="token operator">|</span>gif<span class="token operator">|</span>png<span class="token punctuation">)</span><span class="token punctuation">)</span>\&quot; width<span class="token operator">=</span>\&quot;<span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token operator">&lt;</span>width<span class="token operator">&gt;</span>\\d<span class="token operator">+</span><span class="token punctuation">)</span>\&quot; height<span class="token operator">=</span>\&quot;<span class="token punctuation">(</span><span class="token punctuation">?</span><span class="token operator">&lt;</span>height<span class="token operator">&gt;</span>\\d<span class="token operator">+</span><span class="token punctuation">)</span>\&quot;&quot;<span class="token punctuation">)</span>
  imageMatches <span class="token operator">=</span> imageRegex<span class="token punctuation">.</span><span class="token function">Matches</span><span class="token punctuation">(</span>imageResults<span class="token punctuation">)</span>

  coverart<span class="token punctuation">.</span>EstimatedCount <span class="token operator">+=</span> imageMatches<span class="token punctuation">.</span>Count <span class="token operator">-</span> <span class="token number">1</span> <span class="token comment">//Adjust count by how many images for this release</span>

  <span class="token keyword">for</span> imageMatch <span class="token keyword">as</span> <span class="token class-name">Match</span> <span class="token keyword">in</span> imageMatches<span class="token punctuation">:</span>
   coverart<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>imageMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">,</span> artist<span class="token punctuation">,</span> Int32<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>imageMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">,</span> Int32<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>imageMatch<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

 <span class="token keyword">static</span> <span class="token return-type class-name">def</span> <span class="token function">GetResult</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> param
</code></pre></div><p>I saved this as <em>discogartists.boo</em> and copied it to the plugins directory. When I first started up Album Art Downloader, I received complaints about indenting - as it turns out that indenting is used to mark loops and the like in the plugin. After fixing the indenting, Album Art Downloader ran without any complaints - woo hoo!</p> <p>Using the plugin is a bit of a fudge! First, to make sure each artist's folder shows up we need to have at least one file in each of them. My quick fix was to browse through each of the folders containing artists in turn, turning on the <em>Thumbnails</em> view. This causes windows to create a Thumbs.db file in each artist's folder.</p> <p>Run Album Art Downloader, and then ensure that only the <em>Discogs Artists</em> plugin is selected in the <em>Sources:</em> box on the right. Next click on <em>File, New, File Browser</em>. In the browser window, first click on the <em>Options...</em> to expand the Options panel, then ensure the <em>Include subfolders when searching for audio files</em> tickbox is checked and select the <em>Use file path pattern matching:</em> radio button. Click the <em>Search</em> button in the top-right of the window, and then once the search has completed click the <em>Artist</em> column header to organise the results by Artist name. Now look for all the results grouped together with the parent folder (in my case, A-Z) name as the <em>Artist</em> name. Tick each of the boxes and then click on the <em>Get Artwork for Selection...</em> button in the bottom-right of the window. Now for each window that pops up, select the image you'd like (left-click on the image to see a full size version) and click the floppy disc button to save the file to your artist's folder as folder.jpg.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> <footer data-v-6a9f623b><hr data-v-6a9f623b> <p data-v-6a9f623b><a href="http://fb.me/mark.honeychurch" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-facebook-f" data-v-6a9f623b></i>
			Facebook
		</a>
		|
		<a href="https://twitter.com/markhoney" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-twitter" data-v-6a9f623b></i>
			Twitter
		</a>
		|
		<a href="https://www.linkedin.com/in/markhoneychurch" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-linkedin-in" data-v-6a9f623b></i>
			LinkedIn
		</a>
		|
		<a href="https://github.com/markhoney" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-github" data-v-6a9f623b></i>
			Github
		</a>
		|
		<a href="/contact/" data-v-6a9f623b><i class="fa fa-envelope" data-v-6a9f623b></i>
			Contact
		</a></p> <p data-v-6a9f623b><a href="https://mark.honeychurch.org/rss.xml" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fas fa-rss" data-v-6a9f623b></i>
			RSS
		</a>
		|
		<a href="https://mark.honeychurch.org/feed.atom" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fas fa-atom" data-v-6a9f623b></i>
			Atom
		</a>
		|
		<a href="https://mark.honeychurch.org/feed.json" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-js" data-v-6a9f623b></i>
			JSON
		</a></p> <p data-v-6a9f623b>Copyright © 2020 Mark Honeychurch</p></footer></main></div><div class="global-ui"><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div><!----></div></div>
    <script src="/assets/js/styles.js" defer></script><script src="/assets/js/18.js" defer></script><script src="/assets/js/1.js" defer></script><script src="/assets/js/117.js" defer></script><script src="/assets/js/64.js" defer></script><script src="/assets/js/app.js" defer></script>
  </body>
</html>
