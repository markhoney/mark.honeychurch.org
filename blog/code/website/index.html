<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>This Website | Mark Honeychurch</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/media/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/media/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/media/images/icons/favicon-16x16.png">
    <link rel="manifest" href="/media/images/icons/site.webmanifest">
    <link rel="shortcut icon" href="/media/images/icons/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://mark.honeychurch.org/rss.xml" title="Mark Honeychurch RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://mark.honeychurch.org/feed.atom" title="Mark Honeychurch Atom Feed">
    <link rel="alternate" type="application/json" href="https://mark.honeychurch.org/feed.json" title="Mark Honeychurch JSON Feed">
    <meta name="description" content="Coder, Skeptic, Humanist">
    <meta property="article:published_time" content="2018-09-12T00:00:00.000Z">
    <meta property="og:site_name" content="Mark Honeychurch">
    <meta property="og:title" content="This Website">
    <meta property="og:description" content="This website is built using Vuepress and a little bit of Vue magic. The entire source for this site is on GitHub, and the config.js file has been set to build the site to the /docs folder. In GitHub this repository has been set to publish the site at /docs and has been given a custom domain name - mark.honeychurch.org.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/blog/code/website/">
    <meta property="og:image" content="/media/images/blog/code/website.jpg">
    <meta name="twitter:title" content="This Website">
    <meta name="twitter:description" content="This website is built using Vuepress and a little bit of Vue magic. The entire source for this site is on GitHub, and the config.js file has been set to build the site to the /docs folder. In GitHub this repository has been set to publish the site at /docs and has been given a custom domain name - mark.honeychurch.org.">
    <meta name="twitter:url" content="/blog/code/website/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/media/images/blog/code/website.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:creator" content="@markhoney">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Vue, Vuepress, Markdown">
    <meta property="article:tag" content="Vue">
    <meta name="msapplication-TileColor" content="#b91d47">
    <meta name="msapplication-config" content="/media/images/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/assets/css/0.styles.css" as="style"><link rel="preload" href="/assets/js/styles.js" as="script"><link rel="preload" href="/assets/js/app.js" as="script"><link rel="preload" href="/assets/js/18.js" as="script"><link rel="preload" href="/assets/js/1.js" as="script"><link rel="preload" href="/assets/js/86.js" as="script"><link rel="preload" href="/assets/js/109.js" as="script"><link rel="preload" href="/assets/js/108.js" as="script"><link rel="preload" href="/assets/js/64.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mark Honeychurch</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/life/" class="nav-link">
  Life
</a></li><li class="dropdown-item"><!----> <a href="/blog/random/" class="nav-link">
  Random
</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">
  Code
</a></li><li class="dropdown-item"><!----> <a href="/blog/howto/" class="nav-link">
  How To
</a></li><li class="dropdown-item"><!----> <a href="/blog/projects/" class="nav-link">
  Projects
</a></li><li class="dropdown-item"><h4>
          Skeptical Thoughts
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skepticism/2015/" class="nav-link">
  2015
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2016/" class="nav-link">
  2016
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2017/" class="nav-link">
  2017
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2018/" class="nav-link">
  2018
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/media/" class="nav-link">
  Media
</a></div><div class="nav-item"><a href="/cv/" class="nav-link">
  CV
</a></div><div class="nav-item"><a href="/contact/" class="nav-link">
  Contact
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/life/" class="nav-link">
  Life
</a></li><li class="dropdown-item"><!----> <a href="/blog/random/" class="nav-link">
  Random
</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">
  Code
</a></li><li class="dropdown-item"><!----> <a href="/blog/howto/" class="nav-link">
  How To
</a></li><li class="dropdown-item"><!----> <a href="/blog/projects/" class="nav-link">
  Projects
</a></li><li class="dropdown-item"><h4>
          Skeptical Thoughts
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skepticism/2015/" class="nav-link">
  2015
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2016/" class="nav-link">
  2016
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2017/" class="nav-link">
  2017
</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2018/" class="nav-link">
  2018
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/media/" class="nav-link">
  Media
</a></div><div class="nav-item"><a href="/cv/" class="nav-link">
  CV
</a></div><div class="nav-item"><a href="/contact/" class="nav-link">
  Contact
</a></div> <!----></nav>  <!----> </aside> <main class="page"><div data-v-f9805810><!----> <h2 data-v-f9805810>This Website</h2> <h4 data-v-f9805810>September 12, 2018</h4> <p data-v-f9805810><!----> <em>Categories:</em> <span><a href="/blog/category/?name=Software">Software<!----></a></span> , <em>Tags:</em> <span><a href="/blog/tag/?name=Vue">Vue<span>, </span></a><a href="/blog/tag/?name=Vuepress">Vuepress<span>, </span></a><a href="/blog/tag/?name=Markdown">Markdown<!----></a></span></p></div> <div class="theme-default-content content__default"><p>This website is built using <a href="https://vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">Vuepress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and a little bit of Vue magic. The <a href="https://github.com/markhoney/mark.honeychurch.org" target="_blank" rel="noopener noreferrer">entire source<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for this site is on GitHub, and the config.js file has been set to build the site to the /docs folder. In GitHub this repository has been set to publish the site at /docs and has been given a custom domain name - mark.honeychurch.org.</p> <p><img src="/assets/img/Screenshot_1.jpg" alt="GitHub Pages"></p> <p>This solution allows me to have both the source and build for the website in the one GitHub repo, which is clean and simple. All that's needed is for Vuepress to be installed globally, along with the markdown-it extensions I use (video, fontawesome, abbr, sup, sub and attrs), and then for the NODE_PATH environment variable to point to the global node_modules folder.</p> <p>A development version of the site, with hot reloading, can be launched by running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vuepress dev
</code></pre></div><p>To build the static files for the production website, all I need to run is:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vuepress build
</code></pre></div><p>Then I commit the code, push it to GitHub, and the new version of my site is live.</p> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h2> <p>Vue components can be created to display content. I've written custom components for listing posts, displaying a single post, etc, as well as writing components.</p> <p>Components can be dropped into any markdown page by adding the component's HTML tag. For a component at .vuepress/components/code/rotx/decode.vue, for example, the HTML tag would be &lt;code-rotx-decode /&gt;.</p> <p>For a Vue component layout template that displays a single page, a &lt;Content /&gt; tag needs to be added where the markdown content of the page should be displayed.</p> <h2 id="metadata"><a href="#metadata" class="header-anchor">#</a> Metadata</h2> <h3 id="page"><a href="#page" class="header-anchor">#</a> $page</h3> <p>For Vue components, there's metadata available for a single page in the $page object:</p> <pre>	<code class="language-json">
		{
	&quot;title&quot;: &quot;This Website&quot;,
	&quot;frontmatter&quot;: {
		&quot;title&quot;: &quot;This Website&quot;,
		&quot;date&quot;: &quot;2018-09-12T00:00:00.000Z&quot;,
		&quot;layout&quot;: &quot;Post&quot;,
		&quot;categories&quot;: [
			&quot;Software&quot;
		],
		&quot;tags&quot;: [
			&quot;Vue&quot;,
			&quot;Vuepress&quot;,
			&quot;Markdown&quot;
		],
		&quot;readingShow&quot;: &quot;top&quot;,
		&quot;meta&quot;: [
			{
				&quot;property&quot;: &quot;article:published_time&quot;,
				&quot;content&quot;: &quot;2018-09-12T00:00:00.000Z&quot;
			},
			{
				&quot;property&quot;: &quot;og:site_name&quot;,
				&quot;content&quot;: &quot;Mark Honeychurch&quot;
			},
			{
				&quot;property&quot;: &quot;og:title&quot;,
				&quot;content&quot;: &quot;This Website&quot;
			},
			{
				&quot;property&quot;: &quot;og:description&quot;,
				&quot;content&quot;: &quot;This website is built using Vuepress and a little bit of Vue magic. The entire source for this site is on GitHub, and the config.js file has been set to build the site to the /docs folder. In GitHub this repository has been set to publish the site at /docs and has been given a custom domain name - mark.honeychurch.org.&quot;
			},
			{
				&quot;property&quot;: &quot;og:type&quot;,
				&quot;content&quot;: &quot;article&quot;
			},
			{
				&quot;property&quot;: &quot;og:url&quot;,
				&quot;content&quot;: &quot;/blog/code/website/&quot;
			},
			{
				&quot;property&quot;: &quot;og:image&quot;,
				&quot;content&quot;: &quot;/media/images/blog/code/website.jpg&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:title&quot;,
				&quot;content&quot;: &quot;This Website&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:description&quot;,
				&quot;content&quot;: &quot;This website is built using Vuepress and a little bit of Vue magic. The entire source for this site is on GitHub, and the config.js file has been set to build the site to the /docs folder. In GitHub this repository has been set to publish the site at /docs and has been given a custom domain name - mark.honeychurch.org.&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:url&quot;,
				&quot;content&quot;: &quot;/blog/code/website/&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:card&quot;,
				&quot;content&quot;: &quot;summary_large_image&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:image&quot;,
				&quot;content&quot;: &quot;/media/images/blog/code/website.jpg&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:label1&quot;,
				&quot;content&quot;: &quot;Written by&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:creator&quot;,
				&quot;content&quot;: &quot;@markhoney&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:label2&quot;,
				&quot;content&quot;: &quot;Filed under&quot;
			},
			{
				&quot;name&quot;: &quot;twitter:data2&quot;,
				&quot;content&quot;: &quot;Vue, Vuepress, Markdown&quot;
			},
			{
				&quot;property&quot;: &quot;article:tag&quot;,
				&quot;content&quot;: &quot;Vue&quot;
			},
			{
				&quot;property&quot;: &quot;article:tag&quot;,
				&quot;content&quot;: &quot;Vuepress&quot;
			},
			{
				&quot;property&quot;: &quot;article:tag&quot;,
				&quot;content&quot;: &quot;Markdown&quot;
			}
		],
		&quot;datestring&quot;: &quot;September 12, 2018&quot;
	},
	&quot;regularPath&quot;: &quot;/blog/code/website/&quot;,
	&quot;relativePath&quot;: &quot;blog/code/website/index.md&quot;,
	&quot;key&quot;: &quot;v-52d06844&quot;,
	&quot;path&quot;: &quot;/blog/code/website/&quot;,
	&quot;headers&quot;: [
		{
			&quot;level&quot;: 2,
			&quot;title&quot;: &quot;Vue&quot;,
			&quot;slug&quot;: &quot;vue&quot;
		},
		{
			&quot;level&quot;: 2,
			&quot;title&quot;: &quot;Metadata&quot;,
			&quot;slug&quot;: &quot;metadata&quot;
		},
		{
			&quot;level&quot;: 3,
			&quot;title&quot;: &quot;$page&quot;,
			&quot;slug&quot;: &quot;page&quot;
		},
		{
			&quot;level&quot;: 3,
			&quot;title&quot;: &quot;$site&quot;,
			&quot;slug&quot;: &quot;site&quot;
		},
		{
			&quot;level&quot;: 3,
			&quot;title&quot;: &quot;window.location&quot;,
			&quot;slug&quot;: &quot;window-location&quot;
		},
		{
			&quot;level&quot;: 3,
			&quot;title&quot;: &quot;location.vue&quot;,
			&quot;slug&quot;: &quot;location-vue&quot;
		},
		{
			&quot;level&quot;: 3,
			&quot;title&quot;: &quot;Category Page&quot;,
			&quot;slug&quot;: &quot;category-page&quot;
		},
		{
			&quot;level&quot;: 2,
			&quot;title&quot;: &quot;This page&quot;,
			&quot;slug&quot;: &quot;this-page&quot;
		}
	],
	&quot;excerpt&quot;: &quot;&lt;p&gt;This website is built using &lt;a href=\&quot;https://vuepress.vuejs.org/\&quot; target=\&quot;_blank\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;Vuepress&lt;OutboundLink/&gt;&lt;/a&gt; and a little bit of Vue magic. The &lt;a href=\&quot;https://github.com/markhoney/mark.honeychurch.org\&quot; target=\&quot;_blank\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;entire source&lt;OutboundLink/&gt;&lt;/a&gt; for this site is on GitHub, and the config.js file has been set to build the site to the /docs folder. In GitHub this repository has been set to publish the site at /docs and has been given a custom domain name - mark.honeychurch.org.&lt;/p&gt;\n&quot;,
	&quot;readingTime&quot;: {
		&quot;text&quot;: &quot;3 min read&quot;,
		&quot;minutes&quot;: 2.64,
		&quot;time&quot;: 158400,
		&quot;words&quot;: 528
	}
}
	</code>
</pre> <h3 id="site"><a href="#site" class="header-anchor">#</a> $site</h3> <p>There's a $site object which holds metadata for the entire site. I've created a separate page for it, as it's pretty long:</p> <p><a href="/blog/code/website/site.html">$site</a></p> <h3 id="window-location"><a href="#window-location" class="header-anchor">#</a> window.location</h3> <p>We also have all the usual Javascript data available to us, such as window.location (but bear in mind the gotcha described below):</p> <pre>	<code class="language-json">
		null
	</code>
</pre> <p>This can come in handy for clever hacks like using window.location.search to offer a dynamic page that lists posts in a single category, for example. However, because the window object is only available in the browser, we have to make sure that the code is only run on the client side. This can be done by creating an empty reactive data object, and then populating it on mount with the frontend data.</p> <h3 id="location-vue"><a href="#location-vue" class="header-anchor">#</a> location.vue</h3> <p>Here's the component I used above to get the window.location object:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>language-json<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			{{JSON.stringify(location, null, '\t')}}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				location<span class="token operator">:</span> <span class="token keyword">null</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>location <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="category-page"><a href="#category-page" class="header-anchor">#</a> Category Page</h3> <p>For example, to list a single category of posts on this site, I have a reactive data object called &quot;category&quot; which is initialised as null. Then, on mounted(), I get the URL query from window.location.search to find out what category I need to show, and dynamically compute a list of pages that match that category:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>categories<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(category, index) in categories<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>/blog/category/?name=' + category<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{category}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>index + 1 &lt; categories.length<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;categories&quot;</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="this-page"><a href="#this-page" class="header-anchor">#</a> This page</h2> <p>As an example, here is the markdown for this web page. There is a <a href="https://jekyllrb.com/docs/front-matter/" target="_blank" rel="noopener noreferrer">Front Matter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> section at the top of the page, followed by the page markdown.</p> <div class="language-md extra-class"><pre class="language-md"><code><span class="token hr punctuation">---</span>
title: This Website
date: 2018-09-12
layout: Post
categories:
  <span class="token list punctuation">-</span> Software
tags:
  <span class="token list punctuation">-</span> Vue
  <span class="token list punctuation">-</span> Vuepress
  <span class="token title important">- Markdown
<span class="token punctuation">---</span></span>

This website is built using <span class="token url">[<span class="token content">Vuepress</span>](https://vuepress.vuejs.org/)</span> and a little bit of Vue magic. The <span class="token url">[<span class="token content">entire source</span>](https://github.com/markhoney/mark.honeychurch.org)</span> for this site is on GitHub, and the config.js file has been set to build the site to the /docs folder. In GitHub this repository has been set to publish the site at /docs and has been given a custom domain name - mark.honeychurch.org.

<span class="token comment">&lt;!-- more --&gt;</span>

<span class="token url">![<span class="token content">GitHub Pages</span>](./Screenshot_1.jpg)</span>

This solution allows me to have both the source and build for the website in the one GitHub repo, which is clean and simple. All that's needed is for Vuepress to be installed globally, along with the markdown-it extensions I use (video, fontawesome, abbr, sup, sub and attrs), and then for the NODE<span class="token italic"><span class="token punctuation">_</span><span class="token content">PATH environment variable to point to the global node</span><span class="token punctuation">_</span></span>modules folder.

A development version of the site, with hot reloading, can be launched by running:

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">bash</span>
<span class="token code-block language-bash">vuepress dev</span>
<span class="token punctuation">```</span></span>

To build the static files for the production website, all I need to run is:

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">bash</span>
<span class="token code-block language-bash">vuepress build</span>
<span class="token punctuation">```</span></span>

Then I commit the code, push it to GitHub, and the new version of my site is live.

<span class="token title important"><span class="token punctuation">##</span> Vue</span>

Vue components can be created to display content. I've written custom components for listing posts, displaying a single post, etc, as well as writing components.

Components can be dropped into any markdown page by adding the component's HTML tag. For a component at .vuepress/components/code/rotx/decode.vue, for example, the HTML tag would be <span class="token entity" title="&lt;">&amp;lt;</span>code-rotx-decode /<span class="token entity" title="&gt;">&amp;gt;</span>.

For a Vue component layout template that displays a single page, a <span class="token entity" title="&lt;">&amp;lt;</span>Content /<span class="token entity" title="&gt;">&amp;gt;</span> tag needs to be added where the markdown content of the page should be displayed.

<span class="token title important"><span class="token punctuation">##</span> Metadata</span>

<span class="token title important"><span class="token punctuation">###</span> $page</span>

For Vue components, there's metadata available for a single page in the $page object:

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code-vuepress-page</span> <span class="token punctuation">/&gt;</span></span>

<span class="token title important"><span class="token punctuation">###</span> $site</span>

There's a $site object which holds metadata for the entire site. I've created a separate page for it, as it's pretty long:

<span class="token url">[<span class="token content">$site</span>](./site.md)</span>

<span class="token comment">&lt;!--
### $route

There's a $route object as well:

[$route](./route.md)
--&gt;</span>

<span class="token title important"><span class="token punctuation">###</span> window.location</span>

We also have all the usual Javascript data available to us, such as window.location (but bear in mind the gotcha described below):

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code-vuepress-location</span> <span class="token punctuation">/&gt;</span></span>

This can come in handy for clever hacks like using window.location.search to offer a dynamic page that lists posts in a single category, for example. However, because the window object is only available in the browser, we have to make sure that the code is only run on the client side. This can be done by creating an empty reactive data object, and then populating it on mount with the frontend data.

<span class="token title important"><span class="token punctuation">###</span> location.vue</span>

Here's the component I used above to get the window.location object:

&lt;&lt;&lt; @/docs/.vuepress/components/code/vuepress/location.vue

<span class="token title important"><span class="token punctuation">###</span> Category Page</span>

For example, to list a single category of posts on this site, I have a reactive data object called &quot;category&quot; which is initialised as null. Then, on mounted(), I get the URL query from window.location.search to find out what category I need to show, and dynamically compute a list of pages that match that category:

&lt;&lt;&lt; @/docs/.vuepress/theme/components/post/categories.vue

<span class="token title important"><span class="token punctuation">##</span> This page</span>

As an example, here is the markdown for this web page. There is a <span class="token url">[<span class="token content">Front Matter</span>](https://jekyllrb.com/docs/front-matter/)</span> section at the top of the page, followed by the page markdown.

&lt;&lt;&lt; @/docs/blog/code/website/index.md
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> <footer data-v-6a9f623b><hr data-v-6a9f623b> <p data-v-6a9f623b><a href="http://fb.me/mark.honeychurch" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-facebook-f" data-v-6a9f623b></i>
			Facebook
		</a>
		|
		<a href="https://twitter.com/markhoney" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-twitter" data-v-6a9f623b></i>
			Twitter
		</a>
		|
		<a href="https://www.linkedin.com/in/markhoneychurch" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-linkedin-in" data-v-6a9f623b></i>
			LinkedIn
		</a>
		|
		<a href="https://github.com/markhoney" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-github" data-v-6a9f623b></i>
			Github
		</a>
		|
		<a href="/contact/" data-v-6a9f623b><i class="fa fa-envelope" data-v-6a9f623b></i>
			Contact
		</a></p> <p data-v-6a9f623b><a href="https://mark.honeychurch.org/rss.xml" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fas fa-rss" data-v-6a9f623b></i>
			RSS
		</a>
		|
		<a href="https://mark.honeychurch.org/feed.atom" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fas fa-atom" data-v-6a9f623b></i>
			Atom
		</a>
		|
		<a href="https://mark.honeychurch.org/feed.json" target="_blank" rel="noopener noreferrer" data-v-6a9f623b><i class="fab fa-js" data-v-6a9f623b></i>
			JSON
		</a></p> <p data-v-6a9f623b>Copyright © 2020 Mark Honeychurch</p></footer></main></div><div class="global-ui"><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div><!----></div></div>
    <script src="/assets/js/styles.js" defer></script><script src="/assets/js/18.js" defer></script><script src="/assets/js/1.js" defer></script><script src="/assets/js/86.js" defer></script><script src="/assets/js/109.js" defer></script><script src="/assets/js/108.js" defer></script><script src="/assets/js/64.js" defer></script><script src="/assets/js/app.js" defer></script>
  </body>
</html>
