(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{460:function(e,t,a){"use strict";a.r(t);var o=a(2),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("A friend recently let me know of a "),a("a",{attrs:{href:"https://www.pouet.net/prod.php?which=82902",target:"_blank",rel:"noopener noreferrer"}},[e._v("tiny program"),a("OutboundLink")],1),e._v(" that runs a 3D scene with both audio and video. The executable, a .com file, is 64 bytes in size (yeah, that's pretty damn small!), and the camera angle is a flyover of a grassy field with a blue sky above. The audio is a single note, with the sound of a helicopter's whirring blades overlaid on it, and a swooshing noise that sounds like the wind. It sounds too amazing to be real, especially when you've seen the video:")]),e._v(" "),a("p"),a("div",{staticClass:"embed-responsive embed-responsive-16by9"},[a("iframe",{staticClass:"embed-responsive-item youtube-player",attrs:{type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/CAAuIgjrZWY",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),a("p"),e._v(" "),a("h2",{attrs:{id:"dosbox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dosbox","aria-hidden":"true"}},[e._v("#")]),e._v(" DOSBox")]),e._v(" "),a("p",[e._v("Being inquisitive and skeptical, I decided to grab the code and try to run it in "),a("a",{attrs:{href:"https://www.dosbox.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DOSBox"),a("OutboundLink")],1),e._v(". Luckily, the developer had included a config file for DOSBox in his code archive. All I needed to do was install DOSBox and launch the binary.")]),e._v(" "),a("p",[e._v("First, installing software on Windows is a lot easier if we use "),a("a",{attrs:{href:"https://chocolatey.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Chocolatey"),a("OutboundLink")],1),e._v(":")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("choco install -y dosbox\n")])])]),a("h2",{attrs:{id:"launching"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#launching","aria-hidden":"true"}},[e._v("#")]),e._v(" Launching")]),e._v(" "),a("p",[e._v("Once DOSBox is installed, we just need to find out which folder it was installed to ("),a("code",[e._v('"C:\\Program Files (x86)\\DOSBox-0.74-3\\')]),e._v(") and figure our our command to run in powershell:")]),e._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[e._v("& "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"C:\\Program Files (x86)\\DOSBox-0.74-3\\DOSBox.exe"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("fullscreen "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("\\dosbox"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("74"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("conf "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("c "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"mount C ."')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("c "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"C:\\in2war64.com"')]),e._v("\n")])])]),a("p",[e._v("The command line options above run DOXBox fullscreen ("),a("code",[e._v("-fullscreen")]),e._v("), load our custom config ("),a("code",[e._v("-conf .\\dosbox-0.74.conf")]),e._v("), mount the current folder as the C drive ("),a("code",[e._v('-c "mount C ."')]),e._v("), and launch the binary from the C drive ("),a("code",[e._v('"C:\\in2war64.com"')]),e._v(").")]),e._v(" "),a("p",[e._v("This command can be dropped into a powershell script file in the same folder as the code, so that we can run it easily. Just create a file with a .ps1 extension (I used "),a("code",[e._v("dosbox.ps1")]),e._v(") and double click on the file to launch.")]),e._v(" "),a("h2",{attrs:{id:"what-how"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-how","aria-hidden":"true"}},[e._v("#")]),e._v(" What? How?")]),e._v(" "),a("p",[e._v("Here's the code in hex (4 rows of 16 bytes), just to show that it's only 64 bytes:")]),e._v(" "),a("div",{staticClass:"language-hex extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("14 13 BA 30 03 F3 6E CD 10 B8 4F 0C E6 40 E2 F7\n1F 68 00 A5 07 B8 CD CC F7 E7 89 E8 80 EE F6 F6\nF6 92 2C 7F F6 EA 02 16 6C 04 92 30 C6 F6 EE D4\n09 9C 9D 2C 74 AA AF EB DC C9 38 99 46 67 51 7F\n")])])]),a("p",[e._v("The important thing to realise here is that these 64 bytes of code are not creating a 3D environment with textured grass, sky and a soundtrack. The code uses a few clever tricks to fake these things. Each trick does something to either the screen or audio output, and when put together they end up giving the impression of a 3D flyover of a field.")]),e._v(" "),a("p",[e._v("Someone far cleverer than me has "),a("a",{attrs:{href:"(https://www.reddit.com/r/tinycode/comments/d4kdco/3d_animation_with_sound_in_64_bytes_of_assembler/f0r9kob/)"}},[e._v("delved into what's going on")]),e._v(" over on Reddit. I recommend having a read of that comment to get a better idea of how it all works.")])])}),[],!1,null,null,null);t.default=s.exports}}]);