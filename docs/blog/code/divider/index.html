<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Voltage Divider | Mark Honeychurch</title>
    <meta name="description" content="Coder, Skeptic, Humanist">
    <link rel="apple-touch-icon" sizes="180x180" href="/media/images/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/media/images/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/media/images/icons/favicon-16x16.png">
  <link rel="manifest" href="/media/images/icons/site.webmanifest">
  <link rel="shortcut icon" href="/media/images/icons/favicon.ico">
  <meta name="msapplication-TileColor" content="#b91d47">
  <meta name="msapplication-config" content="/media/images/icons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
  <link rel="alternate" type="application/rss+xml" href="https://mark.honeychurch.org/rss.xml" title="Mark Honeychurch RSS Feed">
  <link rel="alternate" type="application/atom+xml" href="https://mark.honeychurch.org/feed.atom" title="Mark Honeychurch Atom Feed">
  <link rel="alternate" type="application/json" href="https://mark.honeychurch.org/feed.json" title="Mark Honeychurch JSON Feed">
    <meta property="article:published_time" content="2018-10-11T00:00:00.000Z"><meta property="og:site_name" content="Mark Honeychurch"><meta property="og:title" content="Voltage Divider"><meta property="og:description" content="A friend who is studying Engineering at university asked me for help tutoring him for one of his degree projects where he was tasked with writing a voltage divider calculator:"><meta property="og:type" content="article"><meta property="og:url" content="/blog/code/divider/"><meta property="og:image" content="/media/images/blog/code/divider.jpg"><meta name="twitter:title" content="Voltage Divider"><meta name="twitter:description" content="A friend who is studying Engineering at university asked me for help tutoring him for one of his degree projects where he was tasked with writing a voltage divider calculator:"><meta name="twitter:url" content="/blog/code/divider/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="/media/images/blog/code/divider.jpg"><meta name="twitter:label1" content="Written by"><meta name="twitter:creator" content="@markhoney"><meta name="twitter:label2" content="Filed under"><meta name="twitter:data2" content="Voltage, Divider"><meta property="article:tag" content="Voltage"><meta property="article:tag" content="Divider">
    <link rel="preload" href="/assets/css/0.styles.css" as="style"><link rel="preload" href="/assets/js/styles.js" as="script"><link rel="preload" href="/assets/js/app.js" as="script"><link rel="preload" href="/assets/js/7.js" as="script"><link rel="preload" href="/assets/js/1.js" as="script"><link rel="preload" href="/assets/js/85.js" as="script"><link rel="preload" href="/assets/js/105.js" as="script"><link rel="preload" href="/assets/js/58.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mark Honeychurch</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/life/" class="nav-link">Life</a></li><li class="dropdown-item"><!----> <a href="/blog/random/" class="nav-link">Random</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">Code</a></li><li class="dropdown-item"><!----> <a href="/blog/howto/" class="nav-link">How To</a></li><li class="dropdown-item"><!----> <a href="/blog/projects/" class="nav-link">Projects</a></li><li class="dropdown-item"><h4>Skeptical Thoughts</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skepticism/2015/" class="nav-link">2015</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2016/" class="nav-link">2016</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2017/" class="nav-link">2017</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2018/" class="nav-link">2018</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/media/" class="nav-link">Media</a></div><div class="nav-item"><a href="/cv/" class="nav-link">CV</a></div><div class="nav-item"><a href="/contact/" class="nav-link">Contact</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/life/" class="nav-link">Life</a></li><li class="dropdown-item"><!----> <a href="/blog/random/" class="nav-link">Random</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link router-link-active">Code</a></li><li class="dropdown-item"><!----> <a href="/blog/howto/" class="nav-link">How To</a></li><li class="dropdown-item"><!----> <a href="/blog/projects/" class="nav-link">Projects</a></li><li class="dropdown-item"><h4>Skeptical Thoughts</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skepticism/2015/" class="nav-link">2015</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2016/" class="nav-link">2016</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2017/" class="nav-link">2017</a></li><li class="dropdown-subitem"><a href="/blog/skepticism/2018/" class="nav-link">2018</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/media/" class="nav-link">Media</a></div><div class="nav-item"><a href="/cv/" class="nav-link">CV</a></div><div class="nav-item"><a href="/contact/" class="nav-link">Contact</a></div> <!----></nav>  <!----> </aside> <main class="page"><div data-v-581476dc><!----> <h2 data-v-581476dc>Voltage Divider</h2> <h4 data-v-581476dc>October 11, 2018</h4> <p data-v-581476dc><!----> <em>Categories:</em> <span><a href="/blog/category/?name=Software">Software<!----></a></span> , <em>Tags:</em> <span><a href="/blog/tag/?name=Voltage">Voltage<span>, </span></a><a href="/blog/tag/?name=Divider">Divider<!----></a></span></p></div> <div class="content default"><p>A friend who is studying Engineering at university asked me for help tutoring him for one of his degree projects where he was tasked with writing a voltage divider calculator:</p> <blockquote><p>You are required to design a program to calculate the best possible standard resistors to use for a voltage divider circuit to get the required circuit gain. The circuit will contain 2 to 4 resistors as in the following circuit diagram.</p> <p><img src="/assets/img/circuit.jpg" alt="Circuit"></p> <p>...</p> <p>The allowed resistors in kΩ are:  1.0, 1.2, 1.5, 1.8, 2.2, 2.7, 3.3, 3.9, 4.7, 5.6, 6.8, 8.2, 10, 12, 15, 18, 22, 27, 33, 39, 47, 56, 68, 82, 100, 1e9</p> <p>Note that the last resistor is 1 GΩ, to represent an open circuit. This is allowed because resistors R2 and/or R4 may not be required, in which case they may be replaced by an open circuit. Resistors R1 and R3 cannot be zero. Only resistors R2 and R4 may be this value.</p></blockquote> <p>There's some more explanation in the assignment, including information on how to calculate the resistance values p1 and p2, and the gain of the circuit.</p> <p>In order to be able to help my friend with his assignment, I decided to get my head around the problem by coding it in Javascript. It took about half an hour to throw together a program that somewhat closely resembled what the lecturer is after. I then figured that with the magic of Vue, I should be able to write a component that dynamically calculates the answers as you type in your required gain. Here is the end result:</p> <form><h3>VOLTAGE DIVIDER</h3> <h4>Enter the voltage divider gain ( &gt; 0 to &lt; 1 )</h4> <label for="gain">Required gain = </label> <input id="gain" maxlength="8" value="0.5"><br> <p>Actual Gain = 0.500000</p> <p>R1 = 100.0 kohm</p> <p>R2 = 1000000000.0 kohm</p> <p>R3 = 100.0 kohm</p> <p>R4 = 1000000000.0 kohm</p> <p>P1 = 100.0000 kohm</p> <p>P2 = 100.0000 kohm</p></form> <h2 id="code"><a href="#code" aria-hidden="true" class="header-anchor">#</a> Code</h2> <div class="tabs-component"><ul role="tablist" class="tabs-component-tabs"></ul> <div class="tabs-component-panels"><section aria-hidden="true" id="node.js" role="tabpanel" class="tabs-component-panel" style="display:none;"><p>This is the Node.js code I came up with initially to complete the task. It's not pretty, but it tries to follow the rules (e.g. passing by reference) and variable names set by the assignment:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Calculate</span><span class="token punctuation">(</span>reqGain<span class="token punctuation">,</span> stdR<span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Find the closest gain possible to the required value</span>
	<span class="token keyword">var</span> <span class="token constant">P1</span><span class="token punctuation">,</span> <span class="token constant">P2</span><span class="token punctuation">,</span> gain<span class="token punctuation">;</span> <span class="token comment">// Create variables to hold our calculated values</span>
	<span class="token keyword">var</span> aclGain <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R1</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token constant">R1</span> <span class="token operator">&lt;</span> stdR<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token constant">R1</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R1, except for the open circuit</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R2</span> <span class="token operator">=</span> <span class="token constant">R1</span><span class="token punctuation">;</span> <span class="token constant">R2</span> <span class="token operator">&lt;</span> stdR<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token constant">R2</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R2 that is the same or larger than R1</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R3</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token constant">R3</span> <span class="token operator">&lt;</span> stdR<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token constant">R3</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R3, except for the open circuit</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R4</span> <span class="token operator">=</span> <span class="token constant">R3</span><span class="token punctuation">;</span> <span class="token constant">R4</span> <span class="token operator">&lt;</span> stdR<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token constant">R4</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R4 that is the same or larger than R3</span>
					<span class="token constant">P1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span><span class="token constant">R1</span><span class="token punctuation">]</span> <span class="token operator">*</span> stdR<span class="token punctuation">[</span><span class="token constant">R2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span><span class="token constant">R1</span><span class="token punctuation">]</span> <span class="token operator">+</span> stdR<span class="token punctuation">[</span><span class="token constant">R2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate P1</span>
					<span class="token constant">P2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span><span class="token constant">R3</span><span class="token punctuation">]</span> <span class="token operator">*</span> stdR<span class="token punctuation">[</span><span class="token constant">R4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span><span class="token constant">R3</span><span class="token punctuation">]</span> <span class="token operator">+</span> stdR<span class="token punctuation">[</span><span class="token constant">R4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate P2</span>
					gain <span class="token operator">=</span> <span class="token constant">P2</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token constant">P1</span> <span class="token operator">+</span> <span class="token constant">P2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate the gain</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> gain<span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> aclGain<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> gain<span class="token punctuation">)</span> <span class="token operator">==</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> aclGain<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">P1</span> <span class="token operator">+</span> <span class="token constant">P2</span> <span class="token operator">&gt;</span> <span class="token constant">R</span><span class="token punctuation">.</span><span class="token constant">P1</span> <span class="token operator">+</span> <span class="token constant">R</span><span class="token punctuation">.</span><span class="token constant">P2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the calculated gain is closer to the required gain than our existing best result, or if it's the same result with a higher combined resistance</span>
						aclGain <span class="token operator">=</span> gain<span class="token punctuation">;</span> <span class="token comment">// Save our newly calculated gain</span>
						<span class="token punctuation">[</span><span class="token string">&quot;R1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R4&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
							<span class="token constant">R</span><span class="token punctuation">[</span>res<span class="token punctuation">]</span> <span class="token operator">=</span> stdR<span class="token punctuation">[</span><span class="token function">eval</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">[</span><span class="token string">&quot;P1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;P2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
							<span class="token constant">R</span><span class="token punctuation">[</span>res<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> aclGain<span class="token punctuation">;</span> <span class="token comment">// Return our result</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Output</span><span class="token punctuation">(</span>reqGain<span class="token punctuation">,</span> aclGain<span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Required gain = &quot;</span> <span class="token operator">+</span> reqGain<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print the gain we wanted</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Actual gain = &quot;</span> <span class="token operator">+</span> aclGain<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print the best gain we can do</span>
	<span class="token punctuation">[</span><span class="token string">&quot;R1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R4&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res <span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> <span class="token constant">R</span><span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; kohm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print our resistor value</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">[</span><span class="token string">&quot;P1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;P2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res <span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> <span class="token constant">R</span><span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; kohm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print our resistance value</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> rl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span> process<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Load the readline library, to allow us to receive a command line input</span>
	rl<span class="token punctuation">.</span><span class="token function">setPrompt</span><span class="token punctuation">(</span><span class="token string">'Enter the voltage divider gain (0 to 1, 0 to exit): '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set our readline prompt to ask for the gain</span>
	rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the program is closed</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;END OF PROGRAM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print our end of program message</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token keyword">const</span> stdR <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.8</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">,</span> <span class="token number">2.7</span><span class="token punctuation">,</span> <span class="token number">3.3</span><span class="token punctuation">,</span> <span class="token number">3.9</span><span class="token punctuation">,</span> <span class="token number">4.7</span><span class="token punctuation">,</span> <span class="token number">5.6</span><span class="token punctuation">,</span> <span class="token number">6.8</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1000000000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Create an array of resistor values, in kohm</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;VOLTAGE DIVIDER&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print a title</span>
	rl<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Show our prompt, asking for the gain</span>
	rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// When a gain has been entered</span>
		<span class="token keyword">var</span> error <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is a valid number</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>gain <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> gain <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is larger than 0 and smaller than 1</span>
				<span class="token keyword">var</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token constant">R1</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">R2</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">R3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">R4</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">P1</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">P2</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Create an initial result, with values that can be compared against</span>
				<span class="token keyword">var</span> reqGain <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Convert our gain to a float</span>
				<span class="token keyword">var</span> aclGain <span class="token operator">=</span> <span class="token function">Calculate</span><span class="token punctuation">(</span>reqGain<span class="token punctuation">,</span> stdR<span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get the closest gain we can get to our desired gain, along with the resistor and P1/P2 values</span>
				<span class="token function">Output</span><span class="token punctuation">(</span>reqGain<span class="token punctuation">,</span> aclGain<span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>gain <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is 0</span>
				error <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Enter a number!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Explain that a number is needed for the gain</span>
			error <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Gain must be greater than zero and less than one!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Explain the lower and upper limits for the gain</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Enter zero if you want to exit the program.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Explain how to exit the program</span>
			rl<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ask for a gain again</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Close our readline</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Here's a more JavaScript native way of doing the same task:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> rl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span> process<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Load the readline library, to allow us to receive a command line input</span>

<span class="token keyword">function</span> <span class="token function">calc</span><span class="token punctuation">(</span>required<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Find the closest gain possible to the required value</span>
	<span class="token keyword">const</span> resistors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.8</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">,</span> <span class="token number">2.7</span><span class="token punctuation">,</span> <span class="token number">3.3</span><span class="token punctuation">,</span> <span class="token number">3.9</span><span class="token punctuation">,</span> <span class="token number">4.7</span><span class="token punctuation">,</span> <span class="token number">5.6</span><span class="token punctuation">,</span> <span class="token number">6.8</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1000000000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Create an array of resistor valies, in kohm</span>
	<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>gain<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token constant">P1</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">P2</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Create an initial result, with values that can be compared against</span>
	<span class="token keyword">var</span> <span class="token constant">P1</span><span class="token punctuation">,</span> <span class="token constant">P2</span><span class="token punctuation">,</span> gain<span class="token punctuation">;</span> <span class="token comment">// Create variables to hold our calculated values</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R1</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token constant">R1</span> <span class="token operator">&lt;</span> resistors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token constant">R1</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R1, except for the open circuit</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R2</span> <span class="token operator">=</span> <span class="token constant">R1</span><span class="token punctuation">;</span> <span class="token constant">R2</span> <span class="token operator">&lt;</span> resistors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token constant">R2</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R2 that is the same or larger than R1</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R3</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token constant">R3</span> <span class="token operator">&lt;</span> resistors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token constant">R3</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R3, except for the open circuit</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">R4</span> <span class="token operator">=</span> <span class="token constant">R3</span><span class="token punctuation">;</span> <span class="token constant">R4</span> <span class="token operator">&lt;</span> resistors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token constant">R4</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for R4 that is the same or larger than R3</span>
					<span class="token constant">P1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>resistors<span class="token punctuation">[</span><span class="token constant">R1</span><span class="token punctuation">]</span> <span class="token operator">*</span> resistors<span class="token punctuation">[</span><span class="token constant">R2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>resistors<span class="token punctuation">[</span><span class="token constant">R1</span><span class="token punctuation">]</span> <span class="token operator">+</span> resistors<span class="token punctuation">[</span><span class="token constant">R2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate P1</span>
					<span class="token constant">P2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>resistors<span class="token punctuation">[</span><span class="token constant">R3</span><span class="token punctuation">]</span> <span class="token operator">*</span> resistors<span class="token punctuation">[</span><span class="token constant">R4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>resistors<span class="token punctuation">[</span><span class="token constant">R3</span><span class="token punctuation">]</span> <span class="token operator">+</span> resistors<span class="token punctuation">[</span><span class="token constant">R4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate P2</span>
					gain <span class="token operator">=</span> <span class="token constant">P2</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token constant">P1</span> <span class="token operator">+</span> <span class="token constant">P2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate the gain</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> gain<span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> result<span class="token punctuation">.</span>gain<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> gain<span class="token punctuation">)</span> <span class="token operator">==</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> result<span class="token punctuation">.</span>gain<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">P1</span> <span class="token operator">+</span> <span class="token constant">P2</span> <span class="token operator">&gt;</span> result<span class="token punctuation">.</span><span class="token constant">P1</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token constant">P2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the calculated gain is closer to the required gain than our existing best result, or if it's the same result with a higher combined resistance</span>
						result <span class="token operator">=</span> <span class="token punctuation">{</span>gain<span class="token punctuation">:</span> gain<span class="token punctuation">,</span> <span class="token constant">R1</span><span class="token punctuation">:</span> resistors<span class="token punctuation">[</span><span class="token constant">R1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R2</span><span class="token punctuation">:</span> resistors<span class="token punctuation">[</span><span class="token constant">R2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R3</span><span class="token punctuation">:</span> resistors<span class="token punctuation">[</span><span class="token constant">R3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R4</span><span class="token punctuation">:</span> resistors<span class="token punctuation">[</span><span class="token constant">R4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">P1</span><span class="token punctuation">:</span> <span class="token constant">P1</span><span class="token punctuation">,</span> <span class="token constant">P2</span><span class="token punctuation">:</span> <span class="token constant">P2</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Save our newly calculated gain and other values to our result</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result<span class="token punctuation">;</span> <span class="token comment">// Return our result</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">result</span><span class="token punctuation">(</span>gain<span class="token punctuation">,</span> answer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Required gain = &quot;</span> <span class="token operator">+</span> gain<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print the gain we wanted</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Actual gain = &quot;</span> <span class="token operator">+</span> answer<span class="token punctuation">.</span>gain<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print the best gain we can do</span>
	<span class="token punctuation">[</span><span class="token string">&quot;R1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;R4&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res <span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> answer<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; kohm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print our resistor value</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">[</span><span class="token string">&quot;P1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;P2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// For each P</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res <span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> answer<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; kohm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print our resistance value</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">warn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Gain must be greater than zero and less than one!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Explain the lower and upper limits for the gain</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Enter zero if you want to exit the program.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Explain how to exit the program</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;VOLTAGE DIVIDER&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print a title</span>

rl<span class="token punctuation">.</span><span class="token function">setPrompt</span><span class="token punctuation">(</span><span class="token string">'Enter the voltage divider gain (0 to 1, 0 to exit): '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set our readline prompt to ask for the gain</span>
rl<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Show our prompt, asking for the gain</span>

rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> gain <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// When a gain has been entered</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is a valid number</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>gain <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is 0</span>
			rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Close our readline</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>gain <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> gain <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is larger than 0 and smaller than 1</span>
			gain <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Convert our gain to a float</span>
			<span class="token keyword">var</span> answer <span class="token operator">=</span> <span class="token function">calc</span><span class="token punctuation">(</span>gain<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get the closest gain we can get to our desired gain, along with the resistor and P1/P2 values</span>
			<span class="token function">result</span><span class="token punctuation">(</span>gain<span class="token punctuation">,</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
			rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Close our readline</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is less than 0, or 1 or more</span>
			<span class="token function">warn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Give invalid value warning</span>
			rl<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ask for a gain again</span>
		<span class="token punctuation">}</span>	
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Enter a number!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Explain that a number is needed for the gain</span>
		<span class="token function">warn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Give invalid value warning</span>
		rl<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ask for a gain again</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// If the program is closed</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;END OF PROGRAM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print our end of program message</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></section> <section aria-hidden="true" id="vue" role="tabpanel" class="tabs-component-panel" style="display:none;"><p>This is what the code looks like when converted into a vue component.</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>VOLTAGE DIVIDER<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Enter the voltage divider gain ( <span class="token entity" title="&gt;">&amp;gt;</span> 0 to <span class="token entity" title="&lt;">&amp;lt;</span> 1 )<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>gain<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Required gain = <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>gain<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>gain<span class="token punctuation">&quot;</span></span> <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Actual Gain = {{result.gain.toFixed(6)}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>R1 = {{result.r1.toFixed(1)}} kohm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>R2 = {{result.r2.toFixed(1)}} kohm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>R3 = {{result.r3.toFixed(1)}} kohm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>R4 = {{result.r4.toFixed(1)}} kohm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>P1 = {{result.p1.toFixed(4)}} kohm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>P2 = {{result.p2.toFixed(4)}} kohm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				gain<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
				resistors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.8</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">,</span> <span class="token number">2.7</span><span class="token punctuation">,</span> <span class="token number">3.3</span><span class="token punctuation">,</span> <span class="token number">3.9</span><span class="token punctuation">,</span> <span class="token number">4.7</span><span class="token punctuation">,</span> <span class="token number">5.6</span><span class="token punctuation">,</span> <span class="token number">6.8</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1000000000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				result<span class="token punctuation">:</span> <span class="token punctuation">{</span>gain<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> r1<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> r2<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> r3<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> r4<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> p1<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
				
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		watch<span class="token punctuation">:</span> <span class="token punctuation">{</span>
			gain<span class="token punctuation">:</span> <span class="token punctuation">{</span>
				immediate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
				<span class="token function">handler</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> required <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>required<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> required <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> required <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">var</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> gain<span class="token punctuation">;</span>
						<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> r1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r1 <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> r1<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> r2 <span class="token operator">=</span> r1<span class="token punctuation">;</span> r2 <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> r2<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> r3 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r3 <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> r3<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
									<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> r4 <span class="token operator">=</span> r3<span class="token punctuation">;</span> r4 <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> r4<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
										p1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r1<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r1<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
										p2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r3<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r3<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r4<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
										gain <span class="token operator">=</span> p2 <span class="token operator">/</span> <span class="token punctuation">(</span>p1 <span class="token operator">+</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
										<span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> gain<span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>result<span class="token punctuation">.</span>gain<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> gain<span class="token punctuation">)</span> <span class="token operator">==</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>required <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>result<span class="token punctuation">.</span>gain<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> p1 <span class="token operator">+</span> p2 <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>result<span class="token punctuation">.</span>p1 <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>result<span class="token punctuation">.</span>p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
											<span class="token keyword">this</span><span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token punctuation">{</span>gain<span class="token punctuation">:</span> gain<span class="token punctuation">,</span> r1<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r1<span class="token punctuation">]</span><span class="token punctuation">,</span> r2<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r2<span class="token punctuation">]</span><span class="token punctuation">,</span> r3<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r3<span class="token punctuation">]</span><span class="token punctuation">,</span> r4<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resistors<span class="token punctuation">[</span>r4<span class="token punctuation">]</span><span class="token punctuation">,</span> p1<span class="token punctuation">:</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">:</span> p2<span class="token punctuation">}</span><span class="token punctuation">;</span>
										<span class="token punctuation">}</span>
									<span class="token punctuation">}</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						<span class="token keyword">this</span><span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token punctuation">{</span>gain<span class="token punctuation">:</span> <span class="token number">9.999999</span><span class="token punctuation">,</span> r1<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> r2<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> r3<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> r4<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> p1<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></section> <section aria-hidden="true" id="c++" role="tabpanel" class="tabs-component-panel" style="display:none;"><p>Here's the C++ version of the code, as required by the assignment.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>﻿<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;pch.h&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;math.h&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iomanip&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstddef&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">float</span> <span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span> gain<span class="token punctuation">;</span>
	<span class="token keyword">bool</span> error<span class="token punctuation">;</span>
	<span class="token keyword">do</span> <span class="token punctuation">{</span>
		error <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter the voltage divider gain(0 to 1, 0 to exit): &quot;</span><span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> gain<span class="token punctuation">;</span> <span class="token comment">// Save the user input to our gain</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>cin<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If our unput isn't a float</span>
			cin<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Clear the error</span>
			cin<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ignore the error</span>
			error <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// Set our error boolean to true, to loop back and ask for our gain again</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter a number!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Explain that a number is needed for the gain</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>gain <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> gain <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the gain is less than 0, or 1 or more</span>
			error <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// Set our error boolean to true, to loop back and ask for our gain again</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If there was an error with the input</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Gain must be greater than zero and less than one!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Explain the lower and upper limits for the gain</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter zero if you want to exit the program.&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Explain how to exit the program</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> gain<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">float</span> <span class="token function">Calculate</span><span class="token punctuation">(</span><span class="token keyword">float</span> reqGain<span class="token punctuation">,</span> <span class="token keyword">float</span> stdR<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">&amp;</span> R1<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">&amp;</span> R2<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">&amp;</span> R3<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">&amp;</span> R4<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">&amp;</span> P1<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">&amp;</span> P2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span> calcGain<span class="token punctuation">,</span> calcP1<span class="token punctuation">,</span> calcP2<span class="token punctuation">;</span>
	<span class="token keyword">float</span> aclGain <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// Set an initial gain to compare against. This needs to be larger than 2, or smaller than -1, so that it is always replaced when doing our first comparison</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i1 <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">;</span> i1<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for r1, except for the open circuit</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i2 <span class="token operator">=</span> i1<span class="token punctuation">;</span> i2 <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> i2<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for r2 that is the same or larger than r1</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i3 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i3 <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">;</span> i3<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for r3, except for the open circuit</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i4 <span class="token operator">=</span> i3<span class="token punctuation">;</span> i4 <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> i4<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// For each resistor value for r4 that is the same or larger than r3</span>
					calcP1 <span class="token operator">=</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span>i1<span class="token punctuation">]</span> <span class="token operator">*</span> stdR<span class="token punctuation">[</span>i2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span>i1<span class="token punctuation">]</span> <span class="token operator">+</span> stdR<span class="token punctuation">[</span>i2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate p1</span>
					calcP2 <span class="token operator">=</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span>i3<span class="token punctuation">]</span> <span class="token operator">*</span> stdR<span class="token punctuation">[</span>i4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>stdR<span class="token punctuation">[</span>i3<span class="token punctuation">]</span> <span class="token operator">+</span> stdR<span class="token punctuation">[</span>i4<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate p2</span>
					calcGain <span class="token operator">=</span> calcP2 <span class="token operator">/</span> <span class="token punctuation">(</span>calcP1 <span class="token operator">+</span> calcP2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Calculate the gain</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">fabs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> calcGain<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">fabs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> aclGain<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">fabs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> calcGain<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">fabs</span><span class="token punctuation">(</span>reqGain <span class="token operator">-</span> aclGain<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> calcP1 <span class="token operator">+</span> calcP1 <span class="token operator">&gt;</span> P1 <span class="token operator">+</span> P2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If the calculated gain is closer to the required gain than our existing best result, or if it's the same result with a higher combined resistance</span>
						aclGain <span class="token operator">=</span> calcGain<span class="token punctuation">;</span> <span class="token comment">// Save our newly calculated gain</span>
						P1 <span class="token operator">=</span> calcP1<span class="token punctuation">;</span> <span class="token comment">// Save our newly calculated P1</span>
						P2 <span class="token operator">=</span> calcP2<span class="token punctuation">;</span><span class="token comment">// Save our newly calculated P2</span>
						R1 <span class="token operator">=</span> stdR<span class="token punctuation">[</span>i1<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// Save our newly calculated R1</span>
						R2 <span class="token operator">=</span> stdR<span class="token punctuation">[</span>i2<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// Save our newly calculated R2</span>
						R3 <span class="token operator">=</span> stdR<span class="token punctuation">[</span>i3<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// Save our newly calculated R3</span>
						R4 <span class="token operator">=</span> stdR<span class="token punctuation">[</span>i4<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// Save our newly calculated R4</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> aclGain<span class="token punctuation">;</span> <span class="token comment">// Return our result</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Output</span><span class="token punctuation">(</span><span class="token keyword">float</span> reqGain<span class="token punctuation">,</span> <span class="token keyword">float</span> aclGain<span class="token punctuation">,</span> <span class="token keyword">float</span> R1<span class="token punctuation">,</span> <span class="token keyword">float</span> R2<span class="token punctuation">,</span> <span class="token keyword">float</span> R3<span class="token punctuation">,</span> <span class="token keyword">float</span> R4<span class="token punctuation">,</span> <span class="token keyword">float</span> P1<span class="token punctuation">,</span> <span class="token keyword">float</span> P2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Required gain = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> reqGain <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print the gain we wanted</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Actual gain = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> aclGain <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print the best gain we can do</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;R1 = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> R1 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; kohm&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print our R1 resistor value</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;R2 = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> R2 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; kohm&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print our R2 resistor value</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;R3 = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> R3 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; kohm&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print our R3 resistor value</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;R4 = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> R4 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; kohm&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print our R4 resistor value</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;P1 = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> P1 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; kohm&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print our P1 resistance value</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;P2 = &quot;</span> <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> P2 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; kohm&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print our P2 resistance value</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span> stdR<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.8</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">,</span> <span class="token number">2.7</span><span class="token punctuation">,</span> <span class="token number">3.3</span><span class="token punctuation">,</span> <span class="token number">3.9</span><span class="token punctuation">,</span> <span class="token number">4.7</span><span class="token punctuation">,</span> <span class="token number">5.6</span><span class="token punctuation">,</span> <span class="token number">6.8</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1000000000</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Create an array of resistor values, in kohm</span>
	<span class="token keyword">float</span> R1<span class="token punctuation">,</span> R2<span class="token punctuation">,</span> R3<span class="token punctuation">,</span> R4<span class="token punctuation">,</span> P1<span class="token punctuation">,</span> P2<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;VOLTAGE DIVIDER&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// Print a title</span>
	<span class="token keyword">float</span> reqGain <span class="token operator">=</span> <span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get our gain from the command prompt</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>reqGain <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If we're not exiting the program</span>
		<span class="token keyword">float</span> aclGain <span class="token operator">=</span> <span class="token function">Calculate</span><span class="token punctuation">(</span>reqGain<span class="token punctuation">,</span> stdR<span class="token punctuation">,</span> R1<span class="token punctuation">,</span> R2<span class="token punctuation">,</span> R3<span class="token punctuation">,</span> R4<span class="token punctuation">,</span> P1<span class="token punctuation">,</span> P2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get the closest gain we can get to our desired gain, along with the resistor and p1/p2 values</span>
		<span class="token function">Output</span><span class="token punctuation">(</span>reqGain<span class="token punctuation">,</span> aclGain<span class="token punctuation">,</span> R1<span class="token punctuation">,</span> R2<span class="token punctuation">,</span> R3<span class="token punctuation">,</span> R4<span class="token punctuation">,</span> P1<span class="token punctuation">,</span> P2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print out our values</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;END OF PROGRAM&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This code was written in Visual Studio Community 2017, but also compiles in mingw and produces a 64kB <a href="/media/programs/divider.executable">executable file</a> (rename this to .exe if you download it) with this command:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mingw ConsoleApplication1.cpp -o divider.exe
</code></pre></div></section></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> <footer data-v-04f1b46b><hr data-v-04f1b46b> <p data-v-04f1b46b><a href="http://fb.me/mark.honeychurch" target="_blank" rel="noopener noreferrer" data-v-04f1b46b><i class="fab fa-facebook-f" data-v-04f1b46b></i>
			Facebook
		</a>
		|
		<a href="https://twitter.com/markhoney" target="_blank" rel="noopener noreferrer" data-v-04f1b46b><i class="fab fa-twitter" data-v-04f1b46b></i>
			Twitter
		</a>
		|
		<a href="https://www.linkedin.com/in/markhoneychurch" target="_blank" rel="noopener noreferrer" data-v-04f1b46b><i class="fab fa-linkedin-in" data-v-04f1b46b></i>
			LinkedIn
		</a>
		|
		<a href="https://github.com/markhoney" target="_blank" rel="noopener noreferrer" data-v-04f1b46b><i class="fab fa-github" data-v-04f1b46b></i>
			Github
		</a>
		|
		<a href="/contact/" data-v-04f1b46b><i class="fa fa-envelope" data-v-04f1b46b></i>
			Contact
		</a></p> <p data-v-04f1b46b><a href="https://mark.honeychurch.org/rss.xml" target="_blank" rel="noopener noreferrer" data-v-04f1b46b><i class="fas fa-rss" data-v-04f1b46b></i>
			RSS
		</a>
		|
		<a href="https://mark.honeychurch.org/feed.atom" target="_blank" rel="noopener noreferrer" data-v-04f1b46b><i class="fas fa-atom" data-v-04f1b46b></i>
			Atom
		</a>
		|
		<a href="https://mark.honeychurch.org/feed.json" target="_blank" rel="noopener noreferrer" data-v-04f1b46b><i class="fab fa-js" data-v-04f1b46b></i>
			JSON
		</a></p> <p data-v-04f1b46b>Copyright © 2019 Mark Honeychurch</p></footer></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/styles.js" defer></script><script src="/assets/js/7.js" defer></script><script src="/assets/js/1.js" defer></script><script src="/assets/js/85.js" defer></script><script src="/assets/js/105.js" defer></script><script src="/assets/js/58.js" defer></script><script src="/assets/js/app.js" defer></script>
  </body>
</html>
